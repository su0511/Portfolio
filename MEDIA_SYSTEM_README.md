# 作品站点媒体轮播系统使用说明

## 📁 文件结构

```
/media/
   project1/
      manifest.json    # 媒体列表配置文件
      1.jpg           # 第一张图片
      2.gif           # 第二张图片（可以是GIF）
      3.mp4           # 第三个视频（静音播放）
      ...
   project2/
      manifest.json
      1.jpg
      2.jpg
      ...
```

## 🎯 功能特性

### 首页 (index.html)
- **Hover 轮播**：鼠标悬停在作品卡片上时自动轮播媒体
- **5秒切换**：每5秒自动切换到下一个媒体
- **视频支持**：视频静音循环播放5秒后切换
- **离开停止**：鼠标离开时停止轮播并回到首帧

### 项目详情页 (project1-10.html)
- **单图显示**：初始只显示一张媒体
- **箭头导航**：图片下方的 ← / → 按钮切换媒体
- **布局对齐**：
  - 图片与第一段文字开头对齐
  - 导航按钮与项目详情底部对齐
- **Lightbox**：点击媒体进入全屏浏览模式
- **键盘控制**：← / → 键切换，Esc 退出
- **触屏支持**：移动端优化的点击区域

## 📝 媒体配置

### 方式一：使用 manifest.json（推荐）

在每个项目文件夹中创建 `manifest.json`：

```json
{
  "media": [
    {
      "url": "media/project1/1.jpg",
      "type": "image",
      "alt": "项目描述 - 图片1"
    },
    {
      "url": "media/project1/2.gif",
      "type": "image", 
      "alt": "项目描述 - 动画"
    },
    {
      "url": "media/project1/3.mp4",
      "type": "video",
      "alt": "项目描述 - 演示视频"
    }
  ]
}
```

### 方式二：文件名扫描（备用）

如果没有 manifest.json，系统会自动扫描：
- 文件命名：`1.jpg`, `2.png`, `3.gif`, `4.mp4` 等
- 支持格式：jpg, jpeg, png, gif, mp4
- 最多扫描：20个文件
- 必须连续：不能跳号

## 🎨 支持的媒体格式

| 格式 | 类型 | 说明 |
|------|------|------|
| JPG/JPEG | 图片 | 标准图片格式 |
| PNG | 图片 | 支持透明背景 |
| GIF | 图片 | 动画图片 |
| MP4 | 视频 | 静音自动播放 |

## ⚙️ 技术实现

### 新增文件
- `assets/js/index-slideshow.js` - 首页轮播逻辑
- `assets/js/project-viewer.js` - 项目页查看器
- `assets/css/project-viewer.css` - 查看器样式

### 修改文件
- `index.html` - 添加 data-project 属性和脚本引用
- `project1-10.html` - 替换图片区域为媒体查看器

### 布局特性
- **导航按钮位置**：位于图片容器下方，独立的导航区域
- **垂直对齐**：媒体框架与第一段文字顶部对齐
- **水平对齐**：导航按钮与文本内容区域底部对齐
- **按钮设计**：透明背景的圆形按钮，箭头完全居中，颜色应用于箭头本身
- **响应式布局**：移动端自动调整按钮大小和间距

## 🔧 初始化方法

系统会在页面加载时自动初始化：

```javascript
// 首页轮播（自动检测 .portfolio-grid）
window.portfolioSlideshow = new PortfolioSlideshow();

// 项目查看器（自动检测 .project-media）
window.projectViewer = new ProjectViewer();
```

## 📱 响应式设计

- **桌面端**：完整功能，hover 效果
- **平板端**：优化的触控体验
- **手机端**：简化界面，大按钮
- **无障碍**：键盘导航，屏幕阅读器支持

## 🚀 性能优化

- **预加载**：自动预加载前3个媒体
- **懒加载**：视频元数据按需加载
- **内存管理**：页面卸载时清理资源
- **防抖动**：避免频繁切换造成的性能问题

## 📋 添加新项目步骤

1. 在 `/media/` 下创建 `projectX/` 文件夹
2. 添加媒体文件（建议使用 manifest.json）
3. 在 `index.html` 中添加对应的 portfolio-item
4. 创建对应的 `projectX.html` 页面
5. 确保页面包含正确的 data-project 属性

## 🐛 故障排除

### 轮播不工作
- 检查 data-project 属性是否正确
- 确认媒体文件路径是否存在
- 查看浏览器控制台错误信息

### 视频不播放
- 确保视频格式为 MP4
- 检查视频编码兼容性
- 验证文件大小是否合理

### 样式问题
- 确认 CSS 文件正确引入
- 检查是否有样式冲突
- 验证响应式断点

## 📞 技术支持

如需帮助，请检查：
1. 浏览器控制台错误
2. 网络请求状态
3. 文件路径正确性
4. manifest.json 格式
